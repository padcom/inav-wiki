This version has some significant differences from 1.6.x, please read the release notes carefully and upgrade INAV Configurator available at [Chrome Store](https://chrome.google.com/webstore/detail/inav-configurator/fmaidjmgkdkpafmbnmigkpdnpdhopgel).

INAV is and will remain open-source and free, but you are more than welcome to [support the development](https://inavflight.github.io/supporting-inav/). 

This release was supported by our awesome sponsors [CarbonBird.com](http://www.CarbonBird.com), [Airbot](http://shop.myairbot.com/) and [ADPM Drones](http://www.adpm.pro/).

## CLI parameter renaming

Some CLI parameters are renamed to support new features or to better reflect their meaning:

| Old name               | New name(s)                                                    |
|------------------------|----------------------------------------------------------------|
| `mag_hold_rate_limit`  | `heading_hold_rate_limit`                                      |
| `nav_max_speed`        | `nav_auto_speed`                                               |
| `nav_max_climb_rate`   | `nav_auto_climb_rate`                                          |

## New boards

- KROOZX board
- BEEROTORF4 board

## New features

- Sonar is back enabled with proper hardware detection. Not recommended to be used for flight yet.
- Support for MS5607 baro sensor
- Support for Spansion S25FL116 SPI memory chip
- Flaperon support moved to mixer code. Can be configured for custom airplane mix as separate flaps now
- Enable airplane setups for Sparky board
- Rename MAG mode to HEADING LOCK mode and allow to operate without compass
- Fixed-wing autotune
- Preliminary support for analog airspeed sensor. No boards support this currently.
- MAVLink made bidirectional. Limited subset of waypoints is supported via QGroundControl and similar software
- Add support for more baud rates (1200 to 921600)
- Add `noreboot` option to `defaults` CLI command. `defaults noreboot` will reset board to defaults but won't reboot the board to allow you to apply configuration right away.
- Remove failsafe channel fallback. Now receiver channel values are always received, but in case of signal loss - not used.
- Enable SoftSerial feature for AIRHEROF3
- HoTT telemetry refactoring
- BLHeli 4wif catch up with Betaflight
- Log last disarm reason to blackbox, report via LTM
- Improve run-time calibration to be faster and more accurate
- Initial cut on coordinated turn code for airplanes. `TURN ASSIST` flight mode will automatically apply rudder and elevator when commanding an aileron-only banked turn.

## Bugs fixed

- Fix incorrect handling of `beeper -ON_USB`
- Fixed speed limitation by `nav_max_speed` enforced even in manual flying
- Fix HMC5883L detection and initialisation in presence of magnetic fields
- Fix broken MPU6500 detection and init
- Fix a bug with falling out of the sky when loosing GPS in FAILSAFE RTH. Now will use FAILSAFE_LANDING as a backup in case RTH is aborted during failsafe.
- Make LTM send X-Frame even for targets w/o GPS
- Allow FAILSAFE to override PASSTHROUGH mode. Fix a bug with failsafe not engaging when plane is in PASSTHROUGH.
- Fix a bug with FAILSAFE locking pilot out of control when board is disarmed by timeout.
- Fix non-working IBUS receiver w/o telemetry
- Fix option to use more motor outputs than are physically available (might cause board to crash)
- Limit RC command processing rate. Fix a bug with stick combos being processed at extreme rate on some receivers
- Custom current metter scale for OmnibusF4 Pro. Fix a bug with incorrect current sensor readings.
- Avoid target clash between PPM and motor output on REVO target. Fix a bug with OneShot125 and PPM being incompatible.